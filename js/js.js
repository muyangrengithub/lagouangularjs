"use strict";angular.module("app",["ui.router","ngCookies"]),angular.module("app").filter("filterByObj",[function(){return function(e,t){var o=[];return angular.forEach(e,function(e){var n=!0;for(var r in t)e[r]!=t[r]&&(n=!1);n&&o.push(e)}),o}}]),angular.module("app").run(["$rootScope","$http",function(e,t){}]),angular.module("app").config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("main",{url:"/main",templateUrl:"view/main.html",controller:"mainCtrl"}).state("position",{url:"/position/:id",templateUrl:"view/position.html",controller:"positionCtrl"}).state("company",{url:"/company",templateUrl:"view/company.html",controller:"companyCtrl"}).state("search",{url:"/search",templateUrl:"view/search.html",controller:"searchCtrl"}).state("me",{url:"/me",templateUrl:"view/me.html",controller:"meCtrl"}).state("login",{url:"/login",templateUrl:"view/login.html",controller:"loginCtrl"}).state("regist",{url:"/regist",templateUrl:"view/regist.html",controller:"registCtrl"}).state("delivery",{url:"/delivery",templateUrl:"view/delivery.html",controller:"deliveryCtrl"}).state("collect",{url:"/collect",templateUrl:"view/collect.html",controller:"collectCtrl"}),t.otherwise("main")}]),angular.module("app").controller("collectCtrl",["$scope","$http","$state","$rootScope",function(e,t,o,n){t.get("data/myFavorite.json").then(function(t){e.collect=t.data,console.log(e.delivery)})}]),angular.module("app").controller("companyCtrl",["$scope","$http","$state",function(e,t,o){e.flag=!1,e.dochange1=function(){e.flag=!0,e.style1={"background-color":"#12dbb5"},e.style2={"background-color":"#def8f5"}},e.dochange2=function(){e.flag=!1,e.style2={"background-color":"#12dbb5"},e.style1={"background-color":"#def8f5"}},t({method:"get",url:"data/company.json?id="+o.params.id,responseType:"json"}).then(function(t){e.company=t.data,console.log(e.company)})}]),angular.module("app").controller("deliveryCtrl",["$scope","$http","$state","$rootScope",function(e,t,o,n){e.tabList=[{id:"all",name:"全部"},{id:"pass",name:"面试邀请"},{id:"fail",name:"不合适"}],t.get("data/myPost.json").then(function(t){e.delivery=t.data,console.log(e.delivery)}),e.filterObj={},e.tClick=function(t,o){switch(console.log(t,o),t){case"all":delete e.filterObj.state;break;case"pass":e.filterObj.state="1";break;case"fail":e.filterObj.state="-1"}}}]),angular.module("app").controller("loginCtrl",["$scope","$http","$state","$rootScope",function(e,t,o,n){t({method:"get",url:"data/login.json",responseType:"json"}).then(function(t){e.user=t.data,console.log(e.user)}),e.flag=!0,e.checkuser=function(){var t=e.user.name,r=e.user.pwd,l=e.loginuser,a=e.loginpwd;t==l&&r==a?(o.go("main"),n.user=t,n.image=e.user.image,n.state=!0):e.flag=!1}}]),angular.module("app").controller("mainCtrl",["$scope","$http","$state","$rootScope",function(e,t,o,n){t({method:"get",url:"data/positionList.json",responseType:"json"}).then(function(t){e.position=t.data}),n.state&&(e.flag=!0)}]),angular.module("app").controller("meCtrl",["$scope","$http","$rootScope",function(e,t,o){o.state&&(e.flag=!0),e.quit=function(){o.state=!1}}]),angular.module("app").controller("positionCtrl",["$scope","$http","$state","$rootScope",function(e,t,o,n){t({method:"get",url:"data/position.json?id="+o.params.id,responseType:"json"}).then(function(t){e.positionh=t.data,console.log(e.positionh)}),t({method:"get",url:"data/company.json?id="+o.params.id,responseType:"json"}).then(function(t){e.company=t.data,console.log(e.company)}),n.state&&(e.imageStar="images/star.png",e.change=1),e.docollect=function(){1==e.change?(e.imageStar="images/star.png",e.change=0):(e.imageStar="images/star-active.png",e.change=1)}}]),angular.module("app").controller("registCtrl",["$scope","$http","$state",function(e,t,o){function n(){for(var e="",t=1;t<=4;t++){var o=Math.floor(62*Math.random());e+=o<10?o:o<36?String.fromCharCode(65+o-10):String.fromCharCode(97+o-36)}return e}var r=!1,l=!1,a=!1;e.checkuser=function(){/^1[34578]\d{9}$/.test(e.user)?(e.usertip="✅",r=!0):e.usertip="❌"},e.checkpwd=function(){/^[0-9a-zA-Z]{6,10}$/.test(e.pwd)?(e.pwdtip="✅",l=!0):e.pwdtip="❌"},e.checknote=function(){document.getElementById("note").value.toUpperCase()==document.getElementById("notesend").innerHTML.toUpperCase()?(e.flag2=!1,e.sty={color:"green"},a=!0,document.getElementById("notetip").innerHTML="验证码正确"):(e.flag2=!1,e.sty={color:"red"},document.getElementById("notetip").innerHTML="验证码错误")},e.flag1=!0,e.flag2=!0,e.sendnote=function(){e.flag1=!1,document.getElementById("notesend").innerHTML=n();var t=5;document.getElementById("time").innerHTML=t;var o=setInterval(function(){t--,document.getElementById("time").innerHTML=t,0==t&&(document.getElementById("time").innerHTML="发送短信",clearInterval(o))},1e3)},e.doregist=function(){r&&l&&a&&($cookieStore.put("user",{user:e.user,pwd:e.pwd}),o.go("login"))}}]),angular.module("app").controller("searchCtrl",["$scope","$http",function(e,t){t({method:"get",url:"data/positionList.json",responseType:"json"}).then(function(t){e.position=t.data,console.log(e.position)}),e.flag=!0,e.gy1={"border-bottom":"1px solid #12d5b5"},e.gy2={"border-bottom":"0px"},e.hide=function(){e.flag=!0},e.dostyle=function(){e.sty={height:"10rem"}},e.dosend1=function(){t({method:"get",url:"data/city.json",responseType:"json"}).then(function(t){e.result=t.data,console.log(e.result)}),e.flag=!1,e.sty1=e.gy1,e.sty2=e.gy2,e.sty3=e.gy2},e.dosend2=function(){t({method:"get",url:"data/salary.json",responseType:"json"}).then(function(t){e.result=t.data,console.log(e.result)}),e.flag=!1,e.sty2=e.gy1,e.sty1=e.gy2,e.sty3=e.gy2},e.dosend3=function(){t({method:"get",url:"data/scale.json",responseType:"json"}).then(function(t){e.result=t.data,console.log(e.result)}),e.flag=!1,e.sty3=e.gy1,e.sty2=e.gy2,e.sty1=e.gy2}}]),angular.module("app").directive("appCompanycontent",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/companycontent.html"}}]),angular.module("app").directive("appCompanyinfo",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/companyinfo.html"}}]),angular.module("app").directive("appDeliverytab",[function(){return{restrict:"A",replace:!0,scope:{list:"=",tabClick:"&"},templateUrl:"view/template/delivery-tab.html",link:function(e){e.click=function(t){e.selectId=t.id,e.tabClick(t)}}}}]),angular.module("app").directive("appFooter",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/footer.html"}}]),angular.module("app").directive("appHead",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/head.html"}}]),angular.module("app").directive("appHover",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/hover.html"}}]),angular.module("app").directive("appLoginmain",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/login-main.html"}}]),angular.module("app").directive("appMelogin",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/me-login.html"}}]),angular.module("app").directive("appPositioncontent",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/position-content.html"}}]),angular.module("app").directive("appPositionfooter",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/position-footer.html"}}]),angular.module("app").directive("appPositionhead",[function(){return{scope:{title:"@appPositionhead"},restrict:"A",replace:!0,templateUrl:"view/template/position-head.html",link:function(e){e.goback=function(){window.history.go("-1")}}}}]),angular.module("app").directive("appPositionlist",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/position-list.html",scope:{list:"=",filterObj:"="}}}]),angular.module("app").directive("appRegistmain",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/regist-main.html"}}]),angular.module("app").directive("appSearchhead",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/search-head.html"}}]),angular.module("app").directive("appSearchlist",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/search-list.html"}}]),angular.module("app").directive("appSearchtab",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/search-tab.html"}}]);